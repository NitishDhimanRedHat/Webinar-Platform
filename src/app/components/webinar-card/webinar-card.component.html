<!-- app/components/webinar-card/webinar-card.component.html -->
<div class="card webinar-card h-100" [ngClass]="'webinar-' + cardType">
  <!-- Continue Watching Card Layout -->
  <ng-container *ngIf="cardType === 'continue-watching'">
    <div class="continue-watching-img position-relative">
      <img [src]="webinar.imageUrl" alt="{{ webinar.title }}" class="img-fluid rounded-top" />
      <span class="time-overlay position-absolute top-0 end-0 m-2 px-2 py-1 rounded text-white small bg-dark">
        {{ webinar.duration }}
      </span>
    </div>
    <div class="card-body p-3">
      <h6 class="card-title fw-bold mb-1">{{ webinar.title }}</h6>
      <div class="d-flex align-items-center text-muted small">
        <span class="me-2">by {{ webinar.presenter }}</span>
        <span class="dot-separator"></span>
        <span>{{ webinar.timeLeft }}</span>
      </div>
      <div class="progress mt-3" style="height: 5px;">
        <div class="progress-bar" role="progressbar" [style.width.%]="60" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
    </div>
  </ng-container>

  <!-- Cardiology Card Layout -->
  <ng-container *ngIf="cardType === 'cardiology'">
    <div class="cardiology-img position-relative">
      <img [src]="webinar.imageUrl" alt="{{ webinar.title }}" class="img-fluid rounded-top" />
      <div class="cardiology-logos position-absolute top-0 start-0 d-flex align-items-center p-2">
        <img *ngIf="webinar.logo1" [src]="webinar.logo1" alt="Logo 1" class="logo-img me-2" />
        <img *ngIf="webinar.logo2" [src]="webinar.logo2" alt="Logo 2" class="logo-img" />
      </div>
      <span class="time-overlay position-absolute bottom-0 end-0 m-2 px-2 py-1 rounded text-white small bg-dark">
        {{ webinar.duration }}
      </span>
    </div>

    <div class="card-body">
      <!-- Credits badge with star icon and expiration -->
      <div class="d-flex align-items-center mb-2" *ngIf="webinar.credits">
        <i class="fas fa-star text-warning me-1"></i>
        <span class="badge" [ngClass]="{
          'bg-light text-dark': !webinar.credits.includes('Expiring'),
          'bg-warning text-dark': webinar.credits.includes('Expiring')
        }">{{ webinar.credits }}</span>
        <small *ngIf="webinar.credits.includes('Expiring')" class="text-muted ms-2">(till {{ webinar.creditsExpiry }})</small>
      </div>

      <!-- Title -->
      <h5 class="card-title fw-bold">{{ webinar.title }}</h5>

      <!-- Presenter with icon and organization logo -->
      <div class="d-flex align-items-center mb-2">
        <i class="fas fa-user-circle me-1 text-muted"></i>
        <span class="text-muted me-2">by {{ webinar.presenter }}</span>
        <img *ngIf="webinar.organizationLogo" [src]="webinar.organizationLogo" alt="Organization" class="org-logo" />
      </div>

      <!-- Related guideline -->
      <div *ngIf="webinar.relatedGuideline" class="related-guideline p-2 rounded mb-3">
        <p class="small mb-1 fw-semibold text-uppercase text-muted">Related Guideline</p>
        <p class="small mb-0 text-truncate">{{ webinar.relatedGuideline }}</p>
      </div>
    </div>

    <!-- Footer with date/time and notify/watch button -->
    <div class="card-footer" [ngClass]="{'bg-lightblue': webinar.status === 'upcoming'}">
      <div *ngIf="webinar.status === 'upcoming'" class="upcoming-info">
        <p class="small mb-0">Goes live on</p>
        <p class="fw-bold mb-0">{{ webinar.dateTime }}</p>
      </div>
      <button *ngIf="webinar.status === 'upcoming'" class="btn btn-dark d-flex align-items-center">
        <img src="assets/Bell-1.svg" alt="Notify me" class="bell-icon me-2" />
        Notify me
      </button>
      <button *ngIf="webinar.status === 'live'" class="btn btn-primary w-100">Watch now</button>
    </div>
  </ng-container>

  <!-- Filtered Card Layout -->
  <ng-container *ngIf="cardType === 'filtered'">
    <div class="filtered-card card h-100">
      <div class="card-img-top position-relative">
        <img [src]="webinar.imageUrl" class="card-img-top" [alt]="webinar.title" />
      </div>
      <div class="card-body p-3">
        <h5 class="card-title fw-bold">{{ webinar.title }}</h5>
        <div class="d-flex mb-2 speakers-info" *ngIf="speakers?.length">
          <div *ngFor="let speaker of speakers" class="speaker d-flex align-items-center me-3">
            <img [src]="speaker.photoUrl" alt="{{ speaker.name }}" class="speaker-photo rounded-circle me-2" />
            <div class="speaker-details">
              <div class="speaker-name fw-semibold">{{ speaker.name }}</div>
              <div class="speaker-title small text-muted">{{ speaker.title }}</div>
            </div>
          </div>
        </div>
        <button class="btn btn-outline-primary w-100 mb-2">Follow</button>
        <div *ngIf="showSocialInteractions" class="social-interactions d-flex justify-content-between text-muted small">
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-thumbs-up me-1"></i> {{ webinar.likes }} Likes
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-comment me-1"></i> {{ webinar.comments }} Comments
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-retweet me-1"></i> {{ webinar.reposts || 0 }} Reposts
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-share me-1"></i> Share
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Live Card Layout -->
  <ng-container *ngIf="cardType === 'live'">
    <div class="detailed-card">
      <div class="card-img-top position-relative">
        <img [src]="webinar.imageUrl" class="card-img-top" [alt]="webinar.title" />
        <span *ngIf="webinar.status === 'live'" class="position-absolute top-0 end-0 bg-danger text-white px-2 m-2 rounded small">Live</span>
        <span *ngIf="webinar.viewers" class="position-absolute top-0 start-0 bg-dark text-white px-2 m-2 rounded small">{{ webinar.viewers }}+</span>
      </div>

      <div class="card-body p-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <div class="sponsor-info d-flex align-items-center">
            <span class="sponsored-text me-2">Sponsored by</span>
            <img *ngIf="sponsorLogo" [src]="sponsorLogo" alt="Sponsor Logo" class="sponsor-logo" />
            <span class="sponsor-name ms-2">{{ sponsor }}</span>
          </div>
        </div>

        <h5 class="card-title fw-bold">{{ webinar.title }}</h5>

        <div class="d-flex mb-2 speakers-info" *ngIf="speakers?.length">
          <div *ngFor="let speaker of speakers" class="speaker d-flex align-items-center me-3">
            <img [src]="speaker.photoUrl" alt="{{ speaker.name }}" class="speaker-photo rounded-circle me-2" />
            <div class="speaker-details">
              <div class="speaker-name fw-semibold">{{ speaker.name }}</div>
              <div class="speaker-title small text-muted">{{ speaker.title }}</div>
            </div>
          </div>
        </div>

        <div class="credits-expiry mb-2 d-flex align-items-center">
          <i class="fas fa-star text-warning me-1"></i>
          <span class="badge bg-warning text-dark">{{ webinar.credits }}</span>
          <small *ngIf="webinar.creditsExpiry" class="text-muted ms-2">(Expiring in {{ webinar.creditsExpiry }})</small>
        </div>

        <div *ngIf="webinar.keyHighlights" class="key-highlights p-2 rounded mb-3">
          <p class="small mb-1 fw-semibold text-uppercase text-muted">Key Highlights</p>
          <p class="small mb-0">{{ webinar.keyHighlights }}</p>
        </div>

        <div *ngIf="showSocialInteractions" class="social-interactions d-flex justify-content-between text-muted small">
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-thumbs-up me-1"></i> {{ webinar.likes }} Likes
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-comment me-1"></i> {{ webinar.comments }} Comments
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-retweet me-1"></i> {{ webinar.reposts || 0 }} Reposts
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-share me-1"></i> Share
          </div>
        </div>

        <div class="footer-info d-flex justify-content-between align-items-center mt-3">
          <div class="time-info small text-muted">
            {{ timeAgo }}
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Upcoming Card Layout -->
  <ng-container *ngIf="cardType === 'upcoming'">
    <div class="detailed-card">
      <div class="card-img-top position-relative">
        <img [src]="webinar.imageUrl" class="card-img-top" [alt]="webinar.title" />
        <span *ngIf="webinar.status === 'live'" class="position-absolute top-0 end-0 bg-danger text-white px-2 m-2 rounded small">Live</span>
        <span *ngIf="webinar.viewers" class="position-absolute top-0 start-0 bg-dark text-white px-2 m-2 rounded small">{{ webinar.viewers }}+</span>
      </div>

      <div class="card-body p-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <div class="sponsor-info d-flex align-items-center">
            <span class="sponsored-text me-2">Sponsored by</span>
            <img *ngIf="sponsorLogo" [src]="sponsorLogo" alt="Sponsor Logo" class="sponsor-logo" />
            <span class="sponsor-name ms-2">{{ sponsor }}</span>
          </div>
        </div>

        <h5 class="card-title fw-bold">{{ webinar.title }}</h5>

        <div class="d-flex mb-2 speakers-info" *ngIf="speakers?.length">
          <div *ngFor="let speaker of speakers" class="speaker d-flex align-items-center me-3">
            <img [src]="speaker.photoUrl" alt="{{ speaker.name }}" class="speaker-photo rounded-circle me-2" />
            <div class="speaker-details">
              <div class="speaker-name fw-semibold">{{ speaker.name }}</div>
              <div class="speaker-title small text-muted">{{ speaker.title }}</div>
            </div>
          </div>
        </div>

        <div class="credits-expiry mb-2 d-flex align-items-center">
          <i class="fas fa-star text-warning me-1"></i>
          <span class="badge bg-warning text-dark">{{ webinar.credits }}</span>
          <small *ngIf="webinar.creditsExpiry" class="text-muted ms-2">(Expiring in {{ webinar.creditsExpiry }})</small>
        </div>

        <div *ngIf="webinar.keyHighlights" class="key-highlights p-2 rounded mb-3">
          <p class="small mb-1 fw-semibold text-uppercase text-muted">Key Highlights</p>
          <p class="small mb-0">{{ webinar.keyHighlights }}</p>
        </div>

        <div *ngIf="showSocialInteractions" class="social-interactions d-flex justify-content-between text-muted small">
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-thumbs-up me-1"></i> {{ webinar.likes }} Likes
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-comment me-1"></i> {{ webinar.comments }} Comments
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-retweet me-1"></i> {{ webinar.reposts || 0 }} Reposts
          </div>
          <div class="interaction d-flex align-items-center">
            <i class="fas fa-share me-1"></i> Share
          </div>
        </div>

        <div class="footer-info d-flex justify-content-between align-items-center mt-3">
          <div class="time-info small text-muted">
            {{ timeAgo }}
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
